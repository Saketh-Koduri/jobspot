{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
  <h2 class="mb-4">My Job Listings</h2>
  <a href="{% url 'create_job' %}" class="btn btn-success mb-3">+ Post New Job</a>

  {% for job in jobs %}
  <div class="card mb-3 shadow-sm">
    <div class="card-body">
      <h5 class="card-title">{{ job.title }}</h5>
      <p class="card-text">{{ job.description|truncatechars:100 }}</p>
      <p><strong>Location:</strong> {{ job.location }} | <strong>Type:</strong> {{ job.job_type }}</p>
      <a href="{% url 'job_detail' job.id %}" class="btn btn-outline-primary btn-sm">View</a>
      <a href="{% url 'edit_job' pk=job.pk %}" class="btn btn-outline-secondary  btn-sm">Edit</a>  
      <a href="{% url 'delete_job' job.id %}" class="btn btn-outline-danger btn-sm" onclick="return confirm('Are you sure you want to delete this job?');">Delete</a>
 </div>
  </div>
  {% empty %}
  <p>You haven't posted any jobs yet.</p>
  {% endfor %}
</div>
{% endblock %}